<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Customers | Store</title>
	<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.2.21/angular.min.js"></script>
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>

	<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
	<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
	<script src='./js/app.js'></script>
	<script>
	$(document).ready(function(){
		$('#addButton').click(function() {
			$('#name').val('');
		})
	})
	</script>
	<style>
	.error {
		color:red;
	}
	</style>
</head>
<body ng-app="myCustomers">
	<div ng-controller="customersController" class="container">
		<div class="header">
			<h1>Add a new Customer</h1>
		</div>
		<div class="row">
			<div class="col-sm-8">
				<p class="error">{{ data }}</p>
			</div>
		</div>
		<div class="row">
			<div class="col-sm-3">
				<label for="name">Customer Name:</label>
			</div>
			<div class="col-sm-5">
				<div class="input-group">
					<input id="name" type="text" class='form-control' ng-model="new_customer">
					<span class="input-group-btn">
						<button id="addButton" class='btn btn-primary' type='button' ng-click="addNewCustomer()">Add</button>
					</span>
				</div>
			</div>
		</div>
		<div class="row">
			<div class="col-sm-4 pull-right">
				<input class="form-control" type="text" name="search" placeholder="Search by Name..." ng-model="search">
			</div>
		</div>
		<div class="row">
			<table class="table table-striped table-bordered">
				<thead>
					<tr>
						<th>Customer Name</th>
						<th>Created Date</th>
						<th>Actions</th>
					</tr>
				</thead>
				<tbody ng-repeat="customer in customers | filter: search | orderBy: 'created_at'">
					<tr>
						<td>{{ customer.name }}</td>
						<td>{{ customer.created_at | date:'longDate' }}</td>
						<td>
							<button ng-click="removeCustomer(customer)" class="btn btn-danger">Remove</button>
						</td>
					</tr>
				</tbody>
			</table>
		</div>
	</div>
</body>
</html>